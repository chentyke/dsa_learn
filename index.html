<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sorting Algorithm Visualizer</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=JetBrains+Mono:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <header>
            <h1>Sorting Visualizer</h1>
            <div class="controls">
                <div class="control-group">
                    <label for="algorithm-select">Algorithm</label>
                    <!-- Custom Dropdown -->
                    <div class="custom-select" id="custom-algorithm-select">
                        <div class="select-trigger" id="algorithm-trigger">Bubble Sort</div>
                        <div class="select-options" id="algorithm-options">
                            <div class="option" data-value="bubble">Bubble Sort</div>
                            <div class="option" data-value="selection">Selection Sort</div>
                            <div class="option" data-value="insertion">Insertion Sort</div>
                            <div class="option" data-value="quick">Quick Sort</div>
                            <div class="option" data-value="merge">Merge Sort</div>
                            <div class="option" data-value="bst">BST Insertion</div>
                        </div>
                    </div>
                    <!-- Hidden input to store value for JS compatibility if needed, but we'll use JS state -->
                    <input type="hidden" id="algorithm-value" value="bubble">
                </div>

                <div class="control-group">
                    <button id="generate-btn" class="btn secondary">New Array</button>
                </div>

                <div class="control-group playback-controls">
                    <button id="reset-btn" class="btn icon-btn" title="Reset">⏮</button>
                    <button id="step-btn" class="btn icon-btn" title="Step">⏯</button>
                    <button id="play-btn" class="btn primary">Play</button>
                </div>

                <div class="control-group">
                    <label for="speed-slider">Speed</label>
                    <input type="range" id="speed-slider" min="1" max="100" value="50">
                </div>
            </div>
        </header>

        <main>
            <section class="visualization-section">
                <div id="visualizer-container">
                    <!-- Bars will be generated here -->
                    <svg id="tree-svg" width="100%" height="100%"
                        style="position: absolute; top: 0; left: 0; pointer-events: none; display: none;"></svg>
                </div>
                <div class="stats-panel">
                    <div class="stat-item">
                        <span class="label">Comparisons:</span>
                        <span id="comparison-count" class="value">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="label">Swaps:</span>
                        <span id="swap-count" class="value">0</span>
                    </div>
                </div>
            </section>

            <div class="resizer-vertical" id="resizer-v"></div>

            <aside class="info-section">
                <div class="code-panel">
                    <div class="panel-header">
                        <h3>Java Implementation</h3>
                    </div>
                    <div class="code-container">
                        <pre><code id="code-display" class="language-java">
// Select an algorithm to see code
                        </code></pre>
                    </div>
                </div>

                <div class="resizer-horizontal" id="resizer-h"></div>

                <div class="complexity-panel">
                    <div class="panel-header">
                        <h3>Complexity</h3>
                    </div>
                    <div class="complexity-grid">
                        <div class="complexity-item">
                            <span class="label">Time (Best)</span>
                            <span id="time-best" class="value">-</span>
                        </div>
                        <div class="complexity-item">
                            <span class="label">Time (Avg)</span>
                            <span id="time-avg" class="value">-</span>
                        </div>
                        <div class="complexity-item">
                            <span class="label">Time (Worst)</span>
                            <span id="time-worst" class="value">-</span>
                        </div>
                        <div class="complexity-item">
                            <span class="label">Space</span>
                            <span id="space-complexity" class="value">-</span>
                        </div>
                    </div>
                </div>
            </aside>
        </main>
    </div>
    <script src="script.js"></script>
</body>

</html>